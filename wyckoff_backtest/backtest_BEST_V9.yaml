# ğŸ† æœ€ä½³ç­–ç•¥é…ç½® - V9 (åŸºæ–¼ V5.1)
# 
# ç¸¾æ•ˆæ‘˜è¦:
# - ç¸½æ”¶ç›Šç‡: 1378.76%
# - å¤æ™®æ¯”ç‡: 0.3141 (æœ€é«˜)
# - æœ€å¤§å›æ’¤: 7.06% (æœ€ä½)
# - å‹ç‡: 60.78%
# - ç›ˆåˆ©å› å­: 2.46 (æœ€é«˜)
# - ç¸½äº¤æ˜“æ¬¡æ•¸: 1104
#
# é€™æ˜¯ç¶“éå…¨é¢æ¸¬è©¦å¾Œçš„æœ€ä½³é¢¨éšªèª¿æ•´æ”¶ç›Šç­–ç•¥

general:
  data_path: "../data/btcusdt_1m.parquet"
  features_path: "../out/BTCUSDT/loose_v5.1/1H/btcusdt_loose_v5.1_features_1H.csv"
  labels_path: "../out/BTCUSDT/loose_v5.1/1H/btcusdt_loose_v5.1_labels_1H.csv"
  
  ohlcv_datetime_col: "datetime"
  features_datetime_col: "ts"
  labels_datetime_col: "ts"
  start_date: "2023-01-01"
  end_date: null
  
  symbol: "BTCUSDT"
  timeframe: "1H"
  strategy_type: "loose_v5.1"

broker:
  cash: 100000.0
  commission: 0.001
  slippage: 0.0005

strategy:
  strategy_name: "BTCUSDT_1H_Loose_V5.1_Strategy"
  
  signals:
    # ä¸»ä¿¡è™Ÿï¼šä½¿ç”¨ p60 æ¨™ç±¤ï¼ˆä¿®å¾©å¾Œçš„æ­£ç¢ºæ¨™ç±¤ï¼‰
    primary_signal:
      label_col: "y_bin_ret_log_p60_h10"
      threshold: 0.35  # é™ä½é–¾å€¼ä»¥å¢åŠ äº¤æ˜“é »ç‡
      weight: 0.6
    
    # æ¬¡è¦ä¿¡è™Ÿ
    secondary_signals:
      - label_col: "y_brk_lb60_k2_p0"
        threshold: 0.35
        weight: 0.25
      - label_col: "y_regime_vol70_ma50"
        threshold: 2
        weight: 0.15
  
  risk:
    # é¢¨éšªç®¡ç†åƒæ•¸ï¼ˆç¶“éå„ªåŒ–ï¼‰
    stop_loss: 0.012      # 1.2% æ­¢æ
    take_profit: 0.045    # 4.5% æ­¢ç›ˆ
    trailing_stop: 0.010  # 1.0% è¿½è¹¤æ­¢æ
    
    # ç§»å‹•æ­¢ç›ˆè¨­ç½®
    trailing_take_profit:
      enabled: true
      activation_pct: 0.010   # 1.0% å•Ÿå‹•
      trail_pct: 0.006        # 0.6% å›æ’¤è§¸ç™¼
      lock_profit_pct: 0.012  # é–å®š 1.2% åˆ©æ½¤
      step_up_pct: 0.003      # 0.3% æ­¥é€²
    
    # æ™‚é–“æ­¢æ
    time_stop:
      enabled: true
      max_bars: 30            # æœ€å¤§æŒå€‰ 30 å°æ™‚
      min_profit_bars: 20     # æœ€å°æŒå€‰ 20 å°æ™‚
      min_profit_threshold: 0.005  # æœ€å°ç›ˆåˆ© 0.5%
  
  # ç‰¹å¾µéæ¿¾ï¼ˆæ”¾å¯¬ä»¥å¢åŠ äº¤æ˜“æ©Ÿæœƒï¼‰
  feature_filters:
    volume_filter:
      enabled: true
      feature_col: "volume_percentile"
      min_threshold: 0.2
    
    volatility_filter:
      enabled: true
      feature_col: "volatility_percentile"
      min_threshold: 0.15
      max_threshold: 0.95
    
    trend_filter:
      enabled: true
      feature_col: "rsi"
      min_threshold: 30
      max_threshold: 80
  
  position:
    # å‹•æ…‹å€‰ä½ç®¡ç†
    size_method: "signal_based"
    base_size: 0.5
    max_size: 0.95
    max_positions: 1
  
  ml_model:
    enabled: false

output:
  results_dir: "BackTest_Result"
  generate_report: true
  save_trades: true
  save_equity_curve: true
  plot_results: true
  gui_mode: false
  file_prefix: "BTCUSDT_1H_Loose_V5.1_BEST"
  timestamp: true
  create_timestamp_dir: true
